<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Vertical - Discoth√®que</title>
    <link rel="stylesheet" href="/css/interface-app.css">
    <link rel="stylesheet" href="/css/gestion-codes-jour.css">
    <link rel="stylesheet" href="/css/gestion-horaires.css">
    <link rel="stylesheet" href="/css/gestion-capacite.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/gestion-entrees.css">
    <link rel="stylesheet" href="/css/kiosk-interface-1.css">
    <link rel="stylesheet" href="/css/kiosk-error-modal.css">
    <link rel="stylesheet" href="/css/gestion-vestiaires.css">
    <link rel="stylesheet" href="/css/configuration.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="modal" id="welcomeModal" role="dialog" aria-labelledby="welcomeModalTitle" aria-describedby="welcomeModalDesc" tabindex="-1">
        <div class="modal-content">
            <h2 id="welcomeModalTitle">Bienvenue !</h2>
            <p id="welcomeModalDesc">Utilisez le menu √† gauche pour g√©rer votre discoth√®que. Cliquez sur "Gestion" pour commencer √† configurer les param√®tres essentiels comme la capacit√© d'accueil et les tickets d'entr√©e.</p>
            <button>Commencer</button>
            <div class="checkbox">
                <input type="checkbox" id="dontShowAgain">
                <label for="dontShowAgain">Ne plus afficher</label>
            </div>
        </div>
    </div>
    <div class="confirmation-modal" id="confirmationModal">
        <div class="modal-content">
            <p>Informations enregistr√©es avec succ√®s !</p>
            <button>OK</button>
        </div>
    </div>
    <div class="sidebar" id="sidebar">
        <button class="toggle-btn" aria-label="R√©duire/√âtendre le menu">
            <span id="toggleIcon" class="icon chevron-left"></span>
        </button>
        <a href="#" class="menu-item pulse active" data-target="gestion" aria-label="Gestion" data-tooltip="Gestion">
            <span class="icon list"></span>
            <span class="text">Gestion</span>
        </a>
        <a href="#" class="menu-item" data-target="reservation" aria-label="R√©servation" data-tooltip="R√©servation">
            <span class="icon calendar"></span>
            <span class="text">R√©servation</span>
        </a>
        <a href="#" class="menu-item" data-target="kiosque" aria-label="Kiosque" data-tooltip="Kiosque">
            <span class="icon screen"></span>
            <span class="text">Kiosque</span>
        </a>
        <a href="#" class="menu-item" data-target="profile" aria-label="Profile" data-tooltip="Profile">
            <span class="icon user"></span>
            <span class="text">Profile</span>
        </a>
        <a href="#" class="menu-item" data-target="rapports" aria-label="Rapports/Statistiques" data-tooltip="Rapports/Statistiques">
            <span class="icon chart"></span>
            <span class="text">Rapports/Statistiques</span>
        </a>
        <a href="#" class="menu-item" data-target="configuration" aria-label="Configuration" data-tooltip="Configuration">
            <span class="icon gear"></span>
            <span class="text">Configuration</span>
        </a>
    </div>
    <div class="main-content" id="mainContent">
        <div class="content-section" id="gestion" style="display: block;">  <!-- Active par d√©faut -->
            <h2>Gestion</h2>
            <div class="subtitle">Configurez les param√®tres essentiels de votre discoth√®que</div>
            <div class="submenu-content">
                <a href="#" class="submenu-item" data-target="gestion-capacite">
                    <span class="icon group"></span> Capacit√© d'accueil <div class="description">D√©finir le nombre maximum de clients</div>
                </a>
                <a href="#" class="submenu-item" data-target="gestion-tickets-entree">
                    <span class="icon ticket"></span> Tickets d'entr√©e <div class="description">G√©rer les prix et types de tickets</div>
                </a>
                <a href="#" class="submenu-item" data-target="gestion-tickets-vestiaire">
                    <span class="icon shirt"></span> Tickets vestiaire <div class="description">Configurer les tickets pour le vestiaire</div>
                </a>
                <a href="#" class="submenu-item" data-target="gestion-heures-creuses">
                    <span class="icon clock"></span> Heures creuses <div class="description">D√©finir les p√©riodes √† faible affluence</div>
                </a>
                <a href="#" class="submenu-item" data-target="gestion-code-jour">
                    <span class="icon key"></span> Code jour <div class="description">G√©rer les codes d'acc√®s quotidiens</div>
                </a>
            </div>
        </div>
        
        <div class="content-section gestion-entrees" id="gestion-tickets-entree" style="display: none;">
            <a href="#" class="back-button" data-target="gestion">‚Üê Retour</a>
            <button class="toggle-interface-btn" id="toggle-interface-btn" style="margin-bottom: 15px;">Passer au Kiosque</button>
            <div class="container">
                <div class="header-content">
                    <h1>Gestion des entr√©es</h1>
                    <div class="subtitle">Configurez vos formules d'entr√©e</div>
                </div>
                <div class="current-prestations">
                    <h2>Prestations actuelles</h2>
                    <div class="day-filter" id="day-filter">
                        <button class="day-btn" data-day="Lundi">Lundi</button>
                        <button class="day-btn" data-day="Mardi">Mardi</button>
                        <button class="day-btn" data-day="Mercredi">Mercredi</button>
                        <button class="day-btn" data-day="Jeudi">Jeudi</button>
                        <button class="day-btn" data-day="Vendredi">Vendredi</button>
                        <button class="day-btn" data-day="Samedi">Samedi</button>
                        <button class="day-btn" data-day="Dimanche">Dimanche</button>
                        <button class="preview-btn">Aper√ßu</button>
                    </div>
                    <div class="prestation-container" id="access-prestations-list"></div>
                    <div class="prestation-container" id="pure-prestations-list"></div>
                    <div id="preview-section" style="display: none;"></div>
                </div>
                <div class="access-form" id="access-form">
                    <div class="form-group">
                        <label>Jour(s)</label>
                        <div class="days-checkboxes" id="days-checkboxes">
                            <label><input type="checkbox" name="days" value="Lundi"> Lundi</label>
                            <label><input type="checkbox" name="days" value="Mardi"> Mardi</label>
                            <label><input type="checkbox" name="days" value="Mercredi"> Mercredi</label>
                            <label><input type="checkbox" name="days" value="Jeudi"> Jeudi</label>
                            <label><input type="checkbox" name="days" value="Vendredi"> Vendredi</label>
                            <label><input type="checkbox" name="days" value="Samedi"> Samedi</label>
                            <label><input type="checkbox" name="days" value="Dimanche"> Dimanche</label>
                        </div>
                    </div>
                    <div class="form-group presentation-group">
                        <h3>Les entr√©es</h3>
                        <div class="presentation-fields">
                            <div>
                                <label>Entr√©e sans Boisson: <span class="tooltip-icon" data-tooltip="TVA incluse">i</span></label>
                                <input type="text" placeholder="Ex: Entr√©e sans conso." id="access-presentation-normal">
                            </div>
                            <div>
                                <label>Entr√©e + Alcool: <span class="tooltip-icon" data-tooltip="TVA incluse">i</span></label>
                                <input type="text" placeholder="Ex: Entr√©e avec conso." id="access-presentation-alcohol">
                            </div>
                            <div>
                                <label>Heure Creuse: <span class="tooltip-icon" data-tooltip="TVA incluse">i</span></label>
                                <input type="text" placeholder="Ex: Entr√©e Gratuit" id="access-presentation-low">
                            </div>
                            <div>
                                <label>Entr√©e + Soft: <span class="tooltip-icon" data-tooltip="TVA incluse">i</span></label>
                                <input type="text" placeholder="Ex: Entr√©e avec conso. soft" id="access-presentation-soft">
                            </div>
                            <div class="price-container">
                                <label>Prix</label>
                                <input type="number" step="0.01" min="0" placeholder="Prix (‚Ç¨)" id="access-price">
                            </div>
                            <div class="sex-container">
                                <label>Sexe</label>
                                <select id="access-sex">
                                    <option value="Homme">‚ôÇ Homme</option>
                                    <option value="Femme">‚ôÄ Femme</option>
                                    <option value="H/F" selected>‚ôÇ/‚ôÄ H/F</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group pure-group">
                        <h3>Les entr√©es avec bouteille <span class="tooltip-icon" data-tooltip="TVA incluse">i</span></h3>
                        <div class="pure-container" id="pure-container"></div>
                        <button type="button" class="add-pure-btn">+ Ajouter une formule bouteille</button>
                    </div>
                </div>
                <button class="save-btn">Enregistrer les modifications</button>
            </div>
        </div>

        <div class="content-section gestion-vestiaires" id="gestion-tickets-vestiaire" style="display: none;">
            <a href="#" class="back-button" data-target="gestion">‚Üê Retour</a>
            <button class="toggle-interface-btn" id="toggle-vestiaire-interface-btn" style="margin-bottom: 15px;">
                Passer au Kiosque
            </button>
            <div class="vestiaires-container" id="vestiaires-admin-view">
                <div class="vestiaires-header">
                    <h1>Gestion des Articles de Vestiaire</h1>
                    <div class="subtitle">Configurez les articles disponibles au vestiaire</div>
                </div>
                <div class="vestiaires-admin">
                    <h2>Articles configur√©s</h2>
                    <div class="articles-list" id="articles-vestiaire-list">
                        <div class="vestiaires-loading">
                            <div class="spinner"></div>
                        </div>
                    </div>
                    <div class="article-form">
                        <h3>Ajouter un article</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="article-vestiaire-name">Nom de l'article</label>
                                <input type="text" id="article-vestiaire-name" placeholder="Ex: Manteau, Sac, Veste..." autocomplete="off">
                            </div>
                            <div class="form-group">
                                <label for="article-vestiaire-price">Prix (‚Ç¨)</label>
                                <input type="number" id="article-vestiaire-price" placeholder="0.00" step="0.01" min="0" autocomplete="off">
                            </div>
                            <div class="form-group">
                                <button id="add-article-vestiaire-btn" class="add-article-btn">Ajouter</button>
                                <button id="cancel-edit-article-btn" class="cancel-edit-btn" style="display: none;">Annuler</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="vestiaires-container" id="vestiaires-kiosk-view" style="display: none;">
                <div class="vestiaires-header">
                    <h1>VESTIAIRE</h1>
                    <div class="subtitle">S√©lectionnez vos articles</div>
                </div>
                <div class="vestiaires-kiosque" id="vestiaires-kiosque-content-standalone">
                    <div class="vestiaires-loading">
                        <div class="spinner"></div>
                    </div>
                </div>
                <div class="vestiaires-actions">
                    <div class="vestiaire-order-container">
                        <h3 class="vestiaire-order-title">Votre commande:</h3>
                        <div id="vestiaire-order-summary" class="vestiaire-order-summary">
                            <div class="order-empty">Aucun article s√©lectionn√©</div>
                        </div>
                    </div>
                    <div class="vestiaires-total">
                        <span>TOTAL VESTIAIRE</span>
                        <span id="vestiaire-total-standalone">0.00‚Ç¨</span>
                    </div>
                    <div class="vestiaires-buttons">
                        <button id="validate-vestiaires-btn-standalone" class="validate-vestiaires-btn" disabled>
                            VALIDER LE VESTIAIRE
                        </button>
                        <button id="skip-vestiaires-btn-standalone" class="skip-vestiaires-btn">
                            CONTINUER SANS VESTIAIRE
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section" id="gestion-capacite" style="display: none;">
            <a href="#" class="back-button" data-target="gestion">‚Üê Retour</a>
            <div class="container" id="capaciteMainInterface">
                <div class="header">
                    <h1>GESTION CAPACIT√â</h1>
                    <div class="subtitle">Affichage dynamique de la capacit√© actuelle</div>
                </div>
                <div class="capacity-display">
                    <div class="current-capacity" id="current-capacity-display">0</div>
                    <div class="capacity-bar">
                        <div class="capacity-fill" id="capacity-fill" style="width: 0%"></div>
                    </div>
                    <div class="capacity-text" id="capacity-text-display">
                        0 / <span class="max-capacity">0</span>
                    </div>
                </div>
                <div class="capacity-controls">
                    <div class="input-group max-capacity">
                        <label><i class="fas fa-tachometer-alt"></i> Capacit√© Maximum :</label>
                        <div class="input-wrapper">
                            <button class="update-btn" id="update-capacity-btn" data-tooltip="Appliquer la nouvelle capacit√© maximale">
                                <i class="fas fa-check"></i> Appliquer
                            </button>
                            <input type="number" id="max-capacity-input" min="0" value="100">
                        </div>
                    </div>
                    <div class="input-group current-count">
                        <label><i class="fas fa-users"></i> Nombre de Clients Actuel :</label>
                        <div class="input-wrapper">
                            <input type="number" id="current-count-input" min="0" value="0" readonly>
                        </div>
                    </div>
                    <div class="control-group">
                        <label><i class="fas fa-sliders-h"></i> Ajustement :</label>
                        <div class="control-buttons">
                            <button class="control-btn" data-change="-1" aria-label="D√©cr√©menter">‚àí</button>
                            <button class="control-btn" data-change="1" aria-label="Incr√©menter">+</button>
                        </div>
                    </div>
                    <div class="reset-buttons">
                        <button class="reset-btn" id="show-reset-modal-btn" data-tooltip="Remettre √† 0">
                            <i class="fas fa-undo"></i> R√©initialiser le Compteur
                        </button>
                        <button class="auto-reset-btn" id="show-auto-reset-btn" data-tooltip="Planifier">
                            <i class="fas fa-calendar-alt"></i> Planifier une R√©initialisation
                        </button>
                    </div>
                </div>
            </div>
            <div class="container" id="capaciteAutoResetInterface" style="display: none;">
                <div class="header">
                    <h1>Red√©marrage Automatique</h1>
                    <div class="subtitle">Planification de la remise √† z√©ro des compteurs</div>
                </div>
                <div class="schedule-section"></div>
            </div>
        </div>
        
        <div class="content-section gestion-horaires" id="gestion-heures-creuses" style="display: none;">
            <a href="#" class="back-button" data-target="gestion">‚Üê Retour</a>
            <div class="container">
                <div class="header">
                    <h1>HEURES CREUSES</h1>
                    <div class="subtitle">D√©finir les p√©riodes √† faible affluence</div>
                </div>
                <div class="low-attendance-section">
                    <div class="form-group">
                        <label for="heures-creuses-start"><i class="fas fa-clock"></i> D√©but :</label>
                        <input type="time" id="heures-creuses-start" value="22:00">
                    </div>
                    <div class="form-group">
                        <label for="heures-creuses-end"><i class="fas fa-clock"></i> Fin :</label>
                        <input type="time" id="heures-creuses-end" value="02:00">
                    </div>
                    <div class="toggle-group">
                        <label for="heures-creuses-enabled">Activer les heures creuses</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="heures-creuses-enabled" checked>
                            <span class="toggle-slider"></span>
                        </div>
                    </div>
                </div>
                <div class="save-section">
                    <button class="save-btn" id="save-heures-creuses" data-tooltip="Enregistrer">
                        <i class="fas fa-save"></i> Enregistrer
                    </button>
                </div>
            </div>
        </div>

        <div class="content-section" id="gestion-code-jour" style="display: none;">
            <a href="#" class="back-button" data-target="gestion">‚Üê Retour</a>
            <h2>Code Jour</h2>
            <div class="subtitle">G√©rer les codes d'acc√®s quotidiens</div>
            <div id="codes-jour-content">
                <div class="year-month-nav" id="yearMonthNav"></div>
                <div class="calendar" id="calendar">
                    <div class="spinner"></div>
                </div>
                <div class="controls">
                    <span class="generate-label">G√©n√©rer Code Automatique</span>
                    <button class="generate-option" id="generateMonthBtn">Mois</button>
                    <button class="generate-option" id="generateYearBtn">Ann√©e</button>
                    <button class="save-btn" id="saveCodesBtn">Sauvegarder</button>
                    <button class="export-btn" id="exportPdfBtn">Exporter en PDF</button>
                </div>
            </div>
        </div>

        <div class="content-section" id="reservation" style="display: none;">
            <h2>R√©servation</h2>
            <div class="subtitle">G√©rer les r√©servations des clients</div>
            <p>Contenu de la page R√©servation...</p>
        </div>

        <div class="content-section" id="client" style="display: none;">
            <h2>Client</h2>
            <div class="subtitle">Consulter et g√©rer les informations des clients</div>
            <p>Contenu de la page Client...</p>
        </div>

        <div class="content-section kiosk-integrated" id="kiosque" style="display: none;">
            <h2>Kiosque</h2>
            <div class="subtitle">Interface kiosque pour les clients</div>
            
            <div id="tickets-entree" class="kiosque-step" style="display: none;">
                <!-- Placeholder pour l'√©tape tickets -->
            </div>
        </div>

        <div class="content-section" id="profile" style="display: none;">
            <h2>Profile</h2>
            <div class="subtitle">Modifier les informations de votre discoth√®que</div>
            <div class="cover-section" id="coverSection">
                <div class="placeholder" id="coverPlaceholder">
                    <span class="icon image"></span>
                    Aucune couverture s√©lectionn√©e
                </div>
                <img id="coverImage" src="" alt="Couverture" style="display: none;">
                <div class="cover-actions">
                    <label for="coverUpload" class="upload-btn">Ajouter une couverture</label>
                    <button id="removeCoverBtn" style="display: none;">Supprimer</button>
                    <input type="file" id="coverUpload" accept="image/*">
                </div>
                <p class="upload-recommendation">Recommand√© : Format 16:9, < 500 Ko.</p>
                <span class="error-message" id="coverError">Veuillez ajouter une couverture.</span>
            </div>
            <form id="profileForm" class="form-section">
                <div class="form-group">
                    <label for="discoName">Nom de la discoth√®que</label>
                    <input type="text" id="discoName" name="discoName" placeholder="Nom" required>
                </div>
                <div class="form-group">
                    <label for="city">Ville</label>
                    <input type="text" id="city" name="city" placeholder="Ville" required>
                </div>
                <div class="form-group">
                    <label for="postalCode">Code postal</label>
                    <input type="text" id="postalCode" name="postalCode" placeholder="Code postal" required>
                </div>
                <div class="form-group">
                    <label for="address">Adresse compl√®te</label>
                    <textarea id="address" name="address" rows="3" placeholder="Adresse" required></textarea>
                </div>
                <div class="form-group">
                    <label for="phone">T√©l√©phone</label>
                    <div class="phone-group">
                        <select id="countryCode" name="countryCode">
                            <option value="+33" selected>+33 (FR)</option>
                        </select>
                        <input type="tel" id="phone" name="phone" placeholder="Num√©ro" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="email" placeholder="Email" required>
                </div>
                <div class="save-section">
                    <button type="submit" class="save-btn">Enregistrer</button>
                </div>
            </form>
        </div>

        <div class="content-section" id="configuration" style="display: none;">
            <h2>Configuration</h2>
            <div class="subtitle">Personnaliser les param√®tres g√©n√©raux</div>
            <div class="submenu-content">
                <a href="#" class="submenu-item" data-target="configuration-modes-paiement">
                    <span class="icon payment"></span>
                    Modes de paiement et Caisse
                    <div class="description">Modes de paiement accept√©s</div>
                </a>
                <a href="#" class="submenu-item" data-target="configuration-abonnement">
                    <span class="icon billing"></span>
                    Abonnement et facturation
                    <div class="description">D√©tails de facturation</div>
                </a>
                <a href="#" class="submenu-item" data-target="configuration-kiosque-container">
                    <span class="icon kiosk"></span>
                    Kiosque
                    <div class="description">Param√®tres du kiosque</div>
                </a>
            </div>
        </div>

        <div class="content-section" id="configuration-modes-paiement" style="display: none;">
            <a href="#" class="back-button" data-target="configuration">‚Üê Retour</a>
            <h2>Modes de paiement et Caisse</h2>
            <div class="subtitle">D√©finissez les modes de paiement accept√©s</div>
            <div class="submenu-content">
                <a href="#" class="submenu-item" data-target="configuration-caisse-parametres">
                    <span class="icon payment"></span>
                    Param√®tres de caisse
                    <div class="description">Param√®tres fiscaux</div>
                </a>
                <a href="#" class="submenu-item" data-target="configuration-verification-compte">
                    <span class="icon payment"></span>
                    V√©rification du compte
                    <div class="description">Percevoir vos versements</div>
                </a>
            </div>
        </div>

        <div class="content-section" id="configuration-caisse-parametres" style="display: none;">
            <a href="#" class="back-button" data-target="configuration-modes-paiement">‚Üê Retour</a>
            <h2>Param√®tres de caisse</h2>
            <div class="subtitle">Param√®tres fiscaux</div>
            <div class="submenu-content">
                <a href="#" class="submenu-item" data-target="configuration-taxes">
                    <span class="icon payment"></span>
                    Param√®tres de taxes
                    <div class="description">G√©rer les taxes</div>
                </a>
                <a href="#" class="submenu-item" data-target="configuration-tickets">
                    <span class="icon ticket"></span>
                    Param√®tres des tickets
                    <div class="description">Personnaliser les tickets</div>
                </a>
            </div>
        </div>

        <div class="content-section" id="configuration-verification-compte" style="display: none;">
            <a href="#" class="back-button" data-target="configuration-modes-paiement">‚Üê Retour</a>
            <h2>V√©rification du compte</h2>
            <div class="subtitle">Commencer √† percevoir vos versements</div>
            <p>Contenu...</p>
        </div>

        <div class="content-section" id="configuration-taxes" style="display: none;">
            <a href="#" class="back-button" data-target="configuration-caisse-parametres">‚Üê Retour</a>
            <h2>Param√®tres de taxes</h2>
            <div class="subtitle">G√©rer les param√®tres fiscaux</div>
            <div class="tax-container">
                <div class="tax-section">
                    <h3>Taux de TVA</h3>
                    <div id="tax-status-message" class="tax-status"></div>
                    <div id="add-tax-form-container" style="display: none; margin-bottom: 15px;">
                        <input type="number" id="new-tax-input" placeholder="Ex: 10.00" step="0.01" min="0" max="100">
                        <button id="confirm-add-tax-btn">Ajouter</button>
                        <button id="cancel-add-tax-btn">Annuler</button>
                    </div>
                    <div class="tax-rates"></div>
                    <button class="add-tax-btn">+ Ajouter un taux de TVA</button>
                </div>
                <div class="ticket-section">
                    <h3>Ticket</h3>
                    <div class="ticket-items">
                        <div class="ticket-item">
                            <span>Acc√®s Entr√©e sans Boisson</span>
                            <select>
                                <option value="5.5" selected>5.5%</option>
                                <option value="10">10%</option>
                                <option value="20">20%</option>
                            </select>
                        </div>
                        <div class="ticket-item">
                            <span>Acc√®s Entr√©e + Alcool</span>
                            <select>
                                <option value="20" selected>20%</option>
                            </select>
                        </div>
                        <div class="ticket-item">
                            <span>Acc√®s Heure Creuse</span>
                            <select>
                                <option value="20" selected>20%</option>
                            </select>
                        </div>
                        <div class="ticket-item">
                            <span>Acc√®s Entr√©e + Soft</span>
                            <select>
                                <option value="10" selected>10%</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="vestiaire-section">
                    <h3>Vestiaire</h3>
                    <div class="vestiaire-items">
                        <div class="vestiaire-item">
                            <span>Vestiaire</span>
                            <select>
                                <option value="10" selected>10%</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="save-section">
                    <button id="saveTaxSettingsBtn" class="save-btn">Enregistrer les param√®tres</button>
                </div>
            </div>
        </div>

        <div class="content-section" id="configuration-tickets" style="display: none;">
            <a href="#" class="back-button" data-target="configuration-caisse-parametres">‚Üê Retour</a>
            <h2>Param√®tres des tickets</h2>
            <div class="subtitle">Personnaliser vos tickets</div>
            <p>Contenu...</p>
        </div>

        <div class="content-section" id="configuration-abonnement" style="display: none;">
            <a href="#" class="back-button" data-target="configuration">‚Üê Retour</a>
            <h2>Abonnement et facturation</h2>
            <div class="subtitle">D√©tails de facturation</div>
            <p>Contenu...</p>
        </div>

        <div class="content-section" id="configuration-kiosque-container" style="display: none;">
            <a href="#" class="back-button" data-target="configuration">‚Üê Retour</a>
            <h2>Kiosque</h2>
            <div class="subtitle">Configurer les param√®tres du kiosque</div>
            <div class="submenu-content">
                <a href="#" class="submenu-item" data-target="configuration-kiosque">
                    <span class="icon alert"></span>
                    Alertes de capacit√©
                    <div class="description">Alertes de capacit√© maximale</div>
                </a>
            </div>
        </div>

        <div class="content-section" id="configuration-kiosque" style="display: none;">
            <a href="#" class="back-button" data-target="configuration-kiosque-container">‚Üê Retour</a>
            <h2>Kiosque</h2>
            <div class="subtitle">Configuration des alertes</div>
            <div class="kiosque-section">
                <h3>Alertes de Capacit√© Maximale</h3>
                <div class="alerts-container">
                    <div class="alert-column" id="alert-1">
                        <h4>Alerte 1</h4>
                        <div class="form-group">
                            <label for="alert1-percentage">Pourcentage (%)</label>
                            <input type="number" id="alert1-percentage" min="0" max="100" value="50">
                        </div>
                        <div class="form-group">
                            <label for="alert1-color">Couleur</label>
                            <input type="color" id="alert1-color" value="#00FF00">
                        </div>
                        <div class="toggle-group">
                            <label for="alert1-enabled">Activer</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="alert1-enabled">
                                <span class="toggle-slider"></span>
                            </div>
                        </div>
                        <div class="alert-visual alert-1" id="alert1-visual"></div>
                    </div>
                    <div class="alert-column" id="alert-2">
                        <h4>Alerte 2</h4>
                        <div class="form-group">
                            <label for="alert2-percentage">Pourcentage (%)</label>
                            <input type="number" id="alert2-percentage" min="0" max="100" value="75">
                        </div>
                        <div class="form-group">
                            <label for="alert2-color">Couleur</label>
                            <input type="color" id="alert2-color" value="#FFFF00">
                        </div>
                        <div class="toggle-group">
                            <label for="alert2-enabled">Activer</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="alert2-enabled">
                                <span class="toggle-slider"></span>
                            </div>
                        </div>
                        <div class="alert-visual" id="alert2-visual"></div>
                    </div>
                    <div class="alert-column" id="alert-3">
                        <h4>Alerte 3</h4>
                        <div class="form-group">
                            <label for="alert3-percentage">Pourcentage (%)</label>
                            <input type="number" id="alert3-percentage" min="0" max="100" value="90">
                        </div>
                        <div class="form-group">
                            <label for="alert3-color">Couleur</label>
                            <input type="color" id="alert3-color" value="#FF0000">
                        </div>
                        <div class="toggle-group">
                            <label for="alert3-enabled">Activer</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="alert3-enabled">
                                <span class="toggle-slider"></span>
                            </div>
                        </div>
                        <div class="alert-visual" id="alert3-visual"></div>
                    </div>
                </div>
                <div class="save-section">
                    <button id="saveKiosqueSettings">Enregistrer</button>
                </div>
            </div>
        </div>

        <div class="content-section" id="rapports" style="display: none;">
            <h2>Rapports/Statistiques</h2>
            <div class="subtitle">Consultez vos statistiques</div>
            <p>Contenu...</p>
        </div>

        </div>  <!-- Fin de la section pr√©c√©dente (rapports) -->

<!-- üéØ INTERFACE 1 KIOSQUE: NOMBRE DE PERSONNES -->
        <div class="content-section" id="kiosk-interface-1" style="display: none;">
            <canvas id="canvas"></canvas>
            
            <div class="kiosk-interface-1-container">
                <!-- Header avec nom de la discoth√®que et date -->
                <div class="kiosk-interface-1-header">
                    <h1 id="kiosk-interface-1-title">Bienvenue au Kiosque</h1>
                    <div class="subtitle" id="kiosk-interface-1-date">Chargement...</div>
                </div>

                <!-- Question principale -->
                <div class="kiosk-interface-1-question">
                    Combien de personnes √™tes-vous ?
                </div>

                <!-- Compteur avec boutons - et + -->
                <div class="kiosk-interface-1-counter">
                    <button 
                        class="kiosk-interface-1-qty-btn" 
                        id="kiosk-interface-1-decrease"
                        aria-label="Diminuer le nombre de personnes"
                    >
                        ‚àí
                    </button>

                    <div 
                        class="kiosk-interface-1-qty-value" 
                        id="kiosk-interface-1-qty-value"
                    >
                        1
                    </div>

                    <button 
                        class="kiosk-interface-1-qty-btn" 
                        id="kiosk-interface-1-increase"
                        aria-label="Augmenter le nombre de personnes"
                    >
                        +
                    </button>
                </div>

                <!-- Messages d'avertissement et d'information -->
                <div class="kiosk-interface-1-warnings">
                    <!-- Message principal : Le nombre sera v√©rifi√© -->
                    <div class="kiosk-interface-1-warning">
                        <span class="icon">‚ö†Ô∏è</span>
                        <span>Le nombre de personnes sera v√©rifi√© √† l'entr√©e</span>
                    </div>

                    <!-- Message capacit√© (affich√© uniquement si <20 places) -->
                    <div class="kiosk-interface-1-capacity-alert" id="kiosk-interface-1-capacity-alert">
                        <span class="icon">üî¥</span>
                        <span class="alert-text">Presque complet</span>
                    </div>

                    <!-- Message maximum (affich√© uniquement √† 40 personnes) -->
                    <div class="kiosk-interface-1-max-message" id="kiosk-interface-1-max-message">
                        <span class="icon">üö´</span>
                        <span>Maximum 40 personnes - Contactez la direction pour groupes sup√©rieurs</span>
                    </div>
                </div>

                <!-- Bouton de validation -->
                <button 
                    class="kiosk-interface-1-validate-btn" 
                    id="kiosk-interface-1-validate"
                >
                    VALIDER POUR 1 PERSONNE
                </button>
            </div>
        </div>

        <script>
        // Animation de fond pour kiosk-interface-1
        (function() {
            const canvas = document.querySelector('#kiosk-interface-1 #canvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            function hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? 
                    `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` 
                    : '255, 255, 255';
            }

            let points = [];
            
            class PulsingPoint {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.baseRadius = Math.random() * 4 + 0.5;
                    this.phase = Math.random() * Math.PI * 2;
                    this.opacity = 0.5;
                    this.vx = (Math.random() - 0.5) * 1.1;
                    this.vy = (Math.random() - 0.5) * 1.1;
                    this.color = ['#FF1493', '#00CED1', '#9370DB', '#FFD700'][Math.floor(Math.random() * 4)];
                }
                
                update(time) {
                    this.phase += 0.02;
                    this.opacity = Math.abs(Math.sin(this.phase)) * 0.3 + 0.1;
                    const pulse = Math.sin(time * 0.005) * this.baseRadius;
                    this.radius = this.baseRadius + pulse;
                    
                    this.x += this.vx;
                    this.y += this.vy;
                    if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                    if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
                }
                
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(${hexToRgb(this.color)}, ${this.opacity})`;
                    ctx.shadowColor = this.color;
                    ctx.shadowBlur = 10;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            }
            
            for (let i = 0; i < 100; i++) {
                points.push(new PulsingPoint());
            }
            
            let time = 0;
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                time += 1;
                points.forEach(p => {
                    p.update(time);
                    p.draw();
                });
                requestAnimationFrame(animate);
            }
            
            animate();
        })();
        </script>

        <!-- FIN INTERFACE 1 KIOSQUE -->

        <div class="content-section kiosk-container" id="kiosk-view" style="display: none;">
            <button class="toggle-back-btn" id="toggle-back-btn">Passer au Tableau de Bord</button>
            <div class="kiosk-header">
                <!-- Le contenu sera g√©n√©r√© dynamiquement par updateKioskHeader() -->
            </div>
            <div class="kiosk-items-container">
                <div class="kiosk-category" id="access-soiree-kiosk">
                    <h2>Acc√®s Soir√©e</h2>
                    <div id="access-items-kiosk"></div>
                </div>
                <div class="kiosk-separator"></div>
                <div class="kiosk-category" id="pure-soiree-kiosk">
                    <h2>Pure Soir√©e</h2>
                    <div id="pure-items-kiosk"></div>
                </div>
            </div>
            <div class="kiosk-total-section">
                <div class="kiosk-order-container">
                    <h3 class="kiosk-order-title">Votre commande:</h3>
                    <div id="kiosk-order-summary" class="kiosk-order-summary">
                        <div class="order-empty">Aucun article s√©lectionn√©</div>
                    </div>
                </div>
                <div class="kiosk-total-row">
                    <div id="kiosk-total-discount"></div>
                    <div id="kiosk-total-price">0‚Ç¨</div>
                </div>
                <button id="validate-kiosk-btn" class="kiosk-checkout-btn" onclick="validateKioskOrder()">
    VALIDER POUR X PERSONNES
</button>
            </div>
        </div>

        <!-- FIX CL√â : Modal √Ä L'INT√âRIEUR de main-content, apr√®s toutes les sections -->
        <div id="custom-confirmation-modal" class="unified-confirmation-modal">
            <div class="modal-content">
                <p id="modal-message" class="modal-message">Message de confirmation</p>
                <div class="modal-buttons">
                    <button id="modal-button-ok" class="modal-btn btn-confirm">Oui</button>
                    <button id="modal-button-cancel" class="modal-btn btn-cancel">Non</button>
                </div>
            </div>
        </div>
    </div>  <!-- FIN de .main-content -->

    <script src="/js/gestion-codes-jour.js"></script>
    <script src="/js/profile.js"></script>
    <script src="/js/configuration.js"></script>
    <script src="/js/gestion-capacite.js"></script>
    <script src="/js/gestion-horaires.js"></script>
    <script src="/js/kiosk-validation.js"></script>
    <script src="/js/kiosk-workflow.js"></script>
    <script src="/js/gestion-entrees.js"></script>
    <script src="/js/gestion-vestiaires.js"></script>
    <script src="/js/vestiaire-kiosque.js"></script>
    <script src="/js/interface-app.js"></script>
</body>
</html>
